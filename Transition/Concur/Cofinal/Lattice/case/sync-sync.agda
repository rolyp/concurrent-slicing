open import ConcurrentSlicingCommon
open import Transition.Concur.Cofinal.Lattice.Common

import Relation.Binary.EqReasoning as EqReasoning
import Ren as ·¥ø

module Transition.Concur.Cofinal.Lattice.case.sync-sync
   {Œì} {x y u z : Name Œì} {P‚ÇÄ Q‚ÇÄ R‚ÇÄ R‚Ä≤‚ÇÄ S‚ÇÄ S‚Ä≤‚ÇÄ} {E : P‚ÇÄ ‚Äî[ x ‚Ä¢ ·µá - _ ]‚Üí R‚ÇÄ} {E‚Ä≤ : P‚ÇÄ ‚Äî[ u ‚Ä¢ ·µá - _ ]‚Üí R‚Ä≤‚ÇÄ}
   {F : Q‚ÇÄ ‚Äî[ ‚Ä¢ x ‚å© y ‚å™ ·∂ú - _ ]‚Üí S‚ÇÄ} {F‚Ä≤ : Q‚ÇÄ ‚Äî[ ‚Ä¢ u ‚å© z ‚å™ ·∂ú - _ ]‚Üí S‚Ä≤‚ÇÄ} (ùê∏ : E ‚å£‚ÇÅ[ ·µá‚àá·µá ] E‚Ä≤) (ùêπ : F ‚å£‚ÇÅ[ ·∂ú‚àá·∂ú ] F‚Ä≤)
   (P : ‚Üì P‚ÇÄ) (Q : ‚Üì Q‚ÇÄ)
   (IH‚ÇÅ : braiding (·µá‚àá·µá {a = x ‚Ä¢} {u ‚Ä¢}) {0} (Œ≥‚ÇÅ ùê∏) (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) (tgt E P)) ‚â° tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏)) (tgt E‚Ä≤ P))
   (IH‚ÇÇ : braiding (·∂ú‚àá·∂ú {a = ‚Ä¢ x ‚å© y ‚å™} {‚Ä¢ u ‚å© z ‚å™}) {0} (Œ≥‚ÇÅ ùêπ) (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) (tgt F Q)) ‚â° tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ)) (tgt F‚Ä≤ Q))
   (let
      P‚Ä≤‚ÇÄ = tgt‚ÇÅ (‚äñ‚ÇÅ ùê∏); P‚Ä≥‚ÇÄ = tgt‚ÇÇ(‚äñ‚ÇÅ ùê∏)
      Œ± = let open EqReasoning (setoid _) in
         begin
            (·¥ø.pop z *) ((·¥ø.suc (·¥ø.pop y) *) P‚Ä≤‚ÇÄ)
         ‚â°‚ü® sym (pop-pop-swap y z _) ‚ü©
            (·¥ø.pop y *) ((·¥ø.suc (·¥ø.pop z) *) ((·¥ø.swap *) P‚Ä≤‚ÇÄ))
         ‚â°‚ü® cong (·¥ø.pop y *) (cong (·¥ø.suc (·¥ø.pop z) *) (Œ≥‚ÇÅ ùê∏)) ‚ü©
            (·¥ø.pop y *) ((·¥ø.suc (·¥ø.pop z) *) P‚Ä≥‚ÇÄ)
         ‚àé)
   where

   module _
      (pop-y*E‚Ä≤/E : (·¥ø.pop y *) R‚ÇÄ ‚Äî[ u ‚Ä¢ ·µá - _ ]‚Üí (·¥ø.suc (·¥ø.pop y) *) (tgt‚ÇÅ (‚äñ‚ÇÅ ùê∏)))
      (pop-z*E/E‚Ä≤ : (·¥ø.pop z *) R‚Ä≤‚ÇÄ ‚Äî[ (x ‚Ä¢) ·µá - _ ]‚Üí (·¥ø.suc (·¥ø.pop z) *) (tgt‚ÇÇ (‚äñ‚ÇÅ ùê∏)))
      (R : ‚Üì R‚ÇÄ) (R‚Ä≤ : ‚Üì R‚Ä≤‚ÇÄ) (S : ‚Üì S‚ÇÄ) (S‚Ä≤ : ‚Üì S‚Ä≤‚ÇÄ) (y‚Ä≤ : ‚Üì y) (z‚Ä≤ : ‚Üì z)
      (‚â°R : tgt E P ‚â° R) (‚â°R‚Ä≤ : tgt E‚Ä≤ P ‚â° R‚Ä≤) (‚â°S : tgt F Q ‚â° S) (‚â°S‚Ä≤ : tgt F‚Ä≤ Q ‚â° S‚Ä≤)
      (‚â°pop-y*E‚Ä≤/E : (·¥ø.pop y *·µá) (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) ‚â° pop-y*E‚Ä≤/E)
      (‚â°pop-z*E/E‚Ä≤ : (·¥ø.pop z *·µá) (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏)) ‚â° pop-z*E/E‚Ä≤)
      (‚â°z‚Ä≤ : (z‚Ä≤ ‚â° ‚óª √ó action F‚Ä≤ Q ‚â° ‚óª ‚Üí ‚ä•) ‚Üí action F‚Ä≤ Q ‚â° [ ‚Ä¢ u ‚å© z‚Ä≤ ‚å™ ·∂ú ])
      where

      module _
         (P‚Ä≤ : ‚Üì (·¥ø.suc (·¥ø.pop y) *) P‚Ä≤‚ÇÄ) (Q‚Ä≤ : ‚Üì tgt‚ÇÅ (‚äñ‚ÇÅ ùêπ)) (P‚Ä≥ : ‚Üì (·¥ø.suc (·¥ø.pop z) *) P‚Ä≥‚ÇÄ)
         (Q‚Ä≥ : ‚Üì tgt‚ÇÇ (‚äñ‚ÇÅ ùêπ)) (z‚Ä† : ‚Üì z) (y‚Ä† : ‚Üì y)
         (‚â°P‚Ä≤ : tgt pop-y*E‚Ä≤/E ((pop y‚Ä≤ *ÃÉ) R) ‚â° P‚Ä≤) (‚â°Q‚Ä≤ : tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) S ‚â° Q‚Ä≤)
         (‚â°P‚Ä≥ : tgt pop-z*E/E‚Ä≤ ((pop z‚Ä≤ *ÃÉ) R‚Ä≤) ‚â° P‚Ä≥) (‚â°Q‚Ä≥ : tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ)) S‚Ä≤ ‚â° Q‚Ä≥)
         where

         wibble‚ÇÄ : action (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) S ‚â° action F‚Ä≤ Q
         wibble‚ÇÄ = trans (cong (action (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ))) (sym ‚â°S)) (œÄ‚ÇÅ (·¥¨gamma‚ÇÅ ùêπ Q))

         wibble : ‚àÄ {a} ‚Üí action F‚Ä≤ Q ‚â° a ‚Üí action (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) S ‚â° a
         wibble {a} œÅ rewrite sym (wibble‚ÇÄ) = œÅ

         wibble‚Ä≤ : ‚àÄ {a} ‚Üí action (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) S ‚â° a ‚Üí action F‚Ä≤ Q ‚â° a
         wibble‚Ä≤ {a} œÅ rewrite wibble‚ÇÄ = œÅ

         cheat : (z‚ÇÅ z‚ÇÇ : ‚Üì z)
                  (œÅ : (z‚ÇÅ ‚â° ‚óª √ó action F‚Ä≤ Q ‚â° ‚óª ‚Üí ‚ä•) ‚Üí action F‚Ä≤ Q ‚â° [ ‚Ä¢ u ‚å© z‚ÇÅ ‚å™ ·∂ú ])
                  (œÉ : (z‚ÇÇ ‚â° ‚óª √ó action (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) S ‚â° ‚óª ‚Üí ‚ä•) ‚Üí action (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) S ‚â° [ ‚Ä¢ u ‚å© z‚ÇÇ ‚å™ ·∂ú ]) ‚Üí
                  z‚ÇÅ ‚â° z‚ÇÇ
         cheat ‚óª ‚óª _ _ = refl
         cheat [ .z ] [ .z ] _ _ = refl
         cheat ‚óª [ .z ] œÅ œÉ =
            let Œ¥ : action F‚Ä≤ Q ‚â° [ ‚Ä¢ u ‚å© [ z ] ‚å™ ·∂ú ]
                Œ¥ = wibble‚Ä≤ (œÉ (Œª { (() , _) }))
            in ‚ä•-elim ([‚Ä¢x‚å©‚óª‚å™·∂ú]‚â¢[‚Ä¢x‚å©[-]‚å™·∂ú] (trans (sym (œÅ (Œª { (_ , Œ¥‚Ä≤) ‚Üí ‚óª‚â¢[-] (trans (sym Œ¥‚Ä≤) Œ¥) }))) Œ¥))
         cheat [ .z ] ‚óª œÅ œÉ =
            let Œ¥ : action (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) S ‚â° [ ‚Ä¢ u ‚å© [ z ] ‚å™ ·∂ú ]
                Œ¥ = wibble (œÅ (Œª { (() , _) }))
            in ‚ä•-elim ([‚Ä¢x‚å©‚óª‚å™·∂ú]‚â¢[‚Ä¢x‚å©[-]‚å™·∂ú] (trans (sym (œÉ (Œª { (_ , Œ¥‚Ä≤) ‚Üí ‚óª‚â¢[-] (trans (sym Œ¥‚Ä≤) Œ¥) }))) Œ¥))

         cheat‚ÇÅ : z‚Ä† ‚â° z‚Ä≤
         cheat‚ÇÅ = trustMe

         cheat‚ÇÇ : y‚Ä† ‚â° y‚Ä≤
         cheat‚ÇÇ = trustMe
{-
         Œ≤ : (pop z‚Ä† *ÃÉ) P‚Ä≤ ‚âÖ (pop y‚Ä† *ÃÉ) P‚Ä≥
         Œ≤ = let open ‚âÖ-Reasoning in
            begin
               (pop z‚Ä† *ÃÉ) P‚Ä≤
            ‚â°‚ü® cong (pop z‚Ä† *ÃÉ) (sym ‚â°P‚Ä≤) ‚ü©
               (pop z‚Ä† *ÃÉ) (tgt pop-y*E‚Ä≤/E ((pop y‚Ä≤ *ÃÉ) R))
            ‚â°‚ü® cong ((pop z‚Ä† *ÃÉ) ‚àò·∂† tgt pop-y*E‚Ä≤/E ‚àò·∂† (pop y‚Ä≤ *ÃÉ)) (sym ‚â°R) ‚ü©
               (pop z‚Ä† *ÃÉ) (tgt pop-y*E‚Ä≤/E ((pop y‚Ä≤ *ÃÉ) (tgt E P)))
            ‚â°‚ü® cong (Œª E‚Ä† ‚Üí (pop z‚Ä† *ÃÉ) (tgt E‚Ä† ((pop y‚Ä≤ *ÃÉ) (tgt E P)))) (sym ‚â°pop-y*E‚Ä≤/E) ‚ü©
               (pop z‚Ä† *ÃÉ) (tgt ((·¥ø.pop y *·µá) (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏))) ((pop y‚Ä≤ *ÃÉ) (tgt E P)))
            ‚â°‚ü® cong (pop z‚Ä† *ÃÉ) (sym (ren·µá-tgt-comm (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) (pop y‚Ä≤) (tgt E P))) ‚ü©
               (pop z‚Ä† *ÃÉ) ((suc (pop y‚Ä≤) *ÃÉ) (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) (tgt E P)))
            ‚â°‚ü® cong‚ÇÇ (Œª z‚Ä° y‚Ä° ‚Üí (pop z‚Ä° *ÃÉ) ((suc (pop y‚Ä°) *ÃÉ) (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) (tgt E P)))) cheat‚ÇÅ (sym cheat‚ÇÇ) ‚ü©
               (pop z‚Ä≤ *ÃÉ) ((suc (pop y‚Ä†) *ÃÉ) (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) (tgt E P)))
            ‚âÖ‚ü® ‚âÖ-cong‚ú¥ ‚Üì_ (sym (swap-involutive P‚Ä≤‚ÇÄ))
               ((pop z‚Ä≤ *ÃÉ) ‚àò·∂† (suc (pop y‚Ä†) *ÃÉ)) (‚âÖ-sym (swap-involutiveÃÉ (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) (tgt E P)))) ‚ü©
               (pop z‚Ä≤ *ÃÉ) ((suc (pop y‚Ä†) *ÃÉ) ((swap *ÃÉ) ((swap *ÃÉ) (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) (tgt E P)))))
            ‚âÖ‚ü® ‚âÖ-cong‚ú¥ ‚Üì_ (Œ≥‚ÇÅ ùê∏) ((pop z‚Ä≤ *ÃÉ) ‚àò·∂† (suc (pop y‚Ä†) *ÃÉ) ‚àò·∂† (swap *ÃÉ)) (‚âÖ-sym (reduce-·µá‚àá·µá (Œ≥‚ÇÅ ùê∏) _)) ‚ü©
               (pop z‚Ä≤ *ÃÉ)
               ((suc (pop y‚Ä†) *ÃÉ)
                ((swap *ÃÉ) (braiding (·µá‚àá·µá {a = x ‚Ä¢} {u ‚Ä¢}) {0} (Œ≥‚ÇÅ ùê∏) (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) (tgt E P)))))
            ‚â°‚ü® cong ((pop z‚Ä≤ *ÃÉ) ‚àò·∂† (suc (pop y‚Ä†) *ÃÉ) ‚àò·∂† (swap *ÃÉ)) IH‚ÇÅ ‚ü©
               (pop z‚Ä≤ *ÃÉ) ((suc (pop y‚Ä†) *ÃÉ) ((swap *ÃÉ) (tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏)) (tgt E‚Ä≤ P))))
            ‚âÖ‚ü® pop-pop-swapÃÉ z‚Ä≤ y‚Ä† _ ‚ü©
               (pop y‚Ä† *ÃÉ) ((suc (pop z‚Ä≤) *ÃÉ) (tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏)) (tgt E‚Ä≤ P)))
            ‚â°‚ü® cong (pop y‚Ä† *ÃÉ) (ren·µá-tgt-comm (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏)) (pop z‚Ä≤) (tgt E‚Ä≤ P)) ‚ü©
               (pop y‚Ä† *ÃÉ) (tgt ((·¥ø.pop z *·µá) (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏))) ((pop z‚Ä≤ *ÃÉ) (tgt E‚Ä≤ P)))
            ‚â°‚ü® cong (Œª E‚Ä† ‚Üí (pop y‚Ä† *ÃÉ) (tgt E‚Ä† ((pop z‚Ä≤ *ÃÉ) (tgt E‚Ä≤ P)))) ‚â°pop-z*E/E‚Ä≤ ‚ü©
               (pop y‚Ä† *ÃÉ) (tgt pop-z*E/E‚Ä≤ ((pop z‚Ä≤ *ÃÉ) (tgt E‚Ä≤ P)))
            ‚â°‚ü® cong ((pop y‚Ä† *ÃÉ) ‚àò·∂† tgt pop-z*E/E‚Ä≤ ‚àò·∂† (pop z‚Ä≤ *ÃÉ)) ‚â°R‚Ä≤ ‚ü©
               (pop y‚Ä† *ÃÉ) (tgt pop-z*E/E‚Ä≤ ((pop z‚Ä≤ *ÃÉ) R‚Ä≤))
            ‚â°‚ü® cong (pop y‚Ä† *ÃÉ) ‚â°P‚Ä≥ ‚ü©
               (pop y‚Ä† *ÃÉ) P‚Ä≥
            ‚àé

         Œ¥ : Q‚Ä≤ ‚âÖ Q‚Ä≥
         Œ¥ = let open ‚âÖ-Reasoning in
            begin
               Q‚Ä≤
            ‚â°‚ü® sym ‚â°Q‚Ä≤ ‚ü©
               tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) S
            ‚â°‚ü® cong (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ))) (sym ‚â°S) ‚ü©
               tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) (tgt F Q)
            ‚âÖ‚ü® ‚âÖ-sym (reduce-·∂ú‚àá·∂ú (Œ≥‚ÇÅ ùêπ) _) ‚ü©
               braiding (·∂ú‚àá·∂ú {a = ‚Ä¢ x ‚å© y ‚å™} {‚Ä¢ u ‚å© z ‚å™}) {0} (Œ≥‚ÇÅ ùêπ) (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) (tgt F Q))
            ‚â°‚ü® IH‚ÇÇ ‚ü©
               tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ)) (tgt F‚Ä≤ Q)
            ‚â°‚ü® cong (tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ))) ‚â°S‚Ä≤ ‚ü©
               tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ)) S‚Ä≤
            ‚â°‚ü® ‚â°Q‚Ä≥ ‚ü©
               Q‚Ä≥
            ‚àé

         base :
            braiding (·∂ú‚àá·∂ú {a = œÑ} {œÑ}) {0} (cong‚ÇÇ _‚îÇ_ Œ± (Œ≥‚ÇÅ ùêπ))
            [ (pop z‚Ä† *ÃÉ) P‚Ä≤ ‚îÇ Q‚Ä≤ ]
            ‚â°
            [ (pop y‚Ä† *ÃÉ) P‚Ä≥ ‚îÇ Q‚Ä≥ ]
         base =
            let open ‚âÖ-Reasoning in ‚âÖ-to-‚â° (
            begin
               braiding (·∂ú‚àá·∂ú {a = œÑ} {œÑ}) {0} (cong‚ÇÇ _‚îÇ_ Œ± (Œ≥‚ÇÅ ùêπ)) [ (pop z‚Ä† *ÃÉ) P‚Ä≤ ‚îÇ Q‚Ä≤ ]
            ‚âÖ‚ü® reduce-·∂ú‚àá·∂ú (cong‚ÇÇ _‚îÇ_ Œ± (Œ≥‚ÇÅ ùêπ)) _ ‚ü©
               [ (pop z‚Ä† *ÃÉ) P‚Ä≤ ‚îÇ Q‚Ä≤ ]
            ‚âÖ‚ü® [-‚îÇ-]-cong Œ± Œ≤ (Œ≥‚ÇÅ ùêπ) Œ¥ ‚ü©
               [ (pop y‚Ä† *ÃÉ) P‚Ä≥ ‚îÇ Q‚Ä≥ ]
            ‚àé)
-}

      postulate
       subcase :
         braiding (·∂ú‚àá·∂ú {a = œÑ} {œÑ}) {0} (cong‚ÇÇ _‚îÇ_ Œ± (Œ≥‚ÇÅ ùêπ))
         (tgt (pop-y*E‚Ä≤/E ‚îÇ‚Ä¢ E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) [ (pop y‚Ä≤ *ÃÉ) R ‚îÇ S ])
         ‚â°
         tgt (pop-z*E/E‚Ä≤ ‚îÇ‚Ä¢ E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ)) [ (pop z‚Ä≤ *ÃÉ) R‚Ä≤ ‚îÇ S‚Ä≤ ]
{-
      subcase
         with step pop-y*E‚Ä≤/E ((pop y‚Ä≤ *ÃÉ) R) | step (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) S |
              step pop-z*E/E‚Ä≤ ((pop z‚Ä≤ *ÃÉ) R‚Ä≤) | step (E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ)) S‚Ä≤ |
              inspect (step pop-y*E‚Ä≤/E) ((pop y‚Ä≤ *ÃÉ) R) | inspect (step (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ))) S |
              inspect (step pop-z*E/E‚Ä≤) ((pop z‚Ä≤ *ÃÉ) R‚Ä≤) | inspect (step (E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ))) S‚Ä≤
      ... | ‚óª , P‚Ä≤ | ‚óª , Q‚Ä≤ | ‚óª , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | ‚óª , P‚Ä≤ | ‚óª , Q‚Ä≤ | ‚óª , P‚Ä≥ | [ ‚Ä¢ .x ‚å© y‚Ä† ‚å™ ·∂ú ] , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª y‚Ä† (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | ‚óª , P‚Ä≤ | ‚óª , Q‚Ä≤ | [ .x ‚Ä¢ ·µá ] , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | ‚óª , P‚Ä≤ | ‚óª , Q‚Ä≤ | [ .x ‚Ä¢ ·µá ] , P‚Ä≥ | [ ‚Ä¢ .x ‚å© y‚Ä† ‚å™ ·∂ú ] , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª y‚Ä† (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | ‚óª , P‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä† ‚å™ ·∂ú ] , Q‚Ä≤ | ‚óª , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ z‚Ä† ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | ‚óª , P‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä† ‚å™ ·∂ú ] , Q‚Ä≤ | ‚óª , P‚Ä≥ | [ ‚Ä¢ .x ‚å© y‚Ä† ‚å™ ·∂ú ] , Q‚Ä≥ |
         [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ z‚Ä† y‚Ä† (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | ‚óª , P‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä† ‚å™ ·∂ú ] , Q‚Ä≤ | [ .x ‚Ä¢ ·µá ] , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ z‚Ä† ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | ‚óª , P‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä† ‚å™ ·∂ú ] , Q‚Ä≤ | [ .x ‚Ä¢ ·µá ] , P‚Ä≥ | [ ‚Ä¢ .x ‚å© y‚Ä† ‚å™ ·∂ú ] , Q‚Ä≥ |
         [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ z‚Ä† y‚Ä† (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ .u ‚Ä¢ ·µá ] , P‚Ä≤ | ‚óª , Q‚Ä≤ | ‚óª , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ .u ‚Ä¢ ·µá ] , P‚Ä≤ | ‚óª , Q‚Ä≤ | ‚óª , P‚Ä≥ | [ ‚Ä¢ .x ‚å© y‚Ä† ‚å™ ·∂ú ] , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª y‚Ä† (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ .u ‚Ä¢ ·µá ] , P‚Ä≤ | ‚óª , Q‚Ä≤ | [ .x ‚Ä¢ ·µá ] , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ .u ‚Ä¢ ·µá ] , P‚Ä≤ | ‚óª , Q‚Ä≤ | [ .x ‚Ä¢ ·µá ] , P‚Ä≥ | [ ‚Ä¢ .x ‚å© y‚Ä† ‚å™ ·∂ú ] , Q‚Ä≥ |
         [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª y‚Ä† (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ .u ‚Ä¢ ·µá ] , P‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä† ‚å™ ·∂ú ] , Q‚Ä≤ | ‚óª , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ z‚Ä† ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ .u ‚Ä¢ ·µá ] , P‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä† ‚å™ ·∂ú ] , Q‚Ä≤ | ‚óª , P‚Ä≥ | [ ‚Ä¢ .x ‚å© y‚Ä† ‚å™ ·∂ú ] , Q‚Ä≥ |
         [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ z‚Ä† y‚Ä† (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ .u ‚Ä¢ ·µá ] , P‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä† ‚å™ ·∂ú ] , Q‚Ä≤ | [ .x ‚Ä¢ ·µá ] , P‚Ä≥ | ‚óª , Q‚Ä≥ |
         [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ z‚Ä† ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ .u ‚Ä¢ ·µá ] , P‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä† ‚å™ ·∂ú ] , Q‚Ä≤ | [ .x ‚Ä¢ ·µá ] , P‚Ä≥ | [ ‚Ä¢ .x ‚å© y‚Ä† ‚å™ ·∂ú ] , Q‚Ä≥ |
         [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ z‚Ä† y‚Ä† (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
-}

   case :
      braiding (·∂ú‚àá·∂ú {a = œÑ} {œÑ}) {0} (cong‚ÇÇ _‚îÇ_ Œ± (Œ≥‚ÇÅ ùêπ))
      (tgt (E‚Ä≤/E (‚äñ‚ÇÅ (ùê∏ ‚îÇ‚Ä¢ ùêπ))) (tgt (E ‚îÇ‚Ä¢ F) [ P ‚îÇ Q ]))
      ‚â°
      tgt (E/E‚Ä≤ (‚äñ‚ÇÅ (ùê∏ ‚îÇ‚Ä¢ ùêπ))) (tgt (E‚Ä≤ ‚îÇ‚Ä¢ F‚Ä≤) [ P ‚îÇ Q ])
   case
      with (·¥ø.pop y *·µá) (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) | (·¥ø.pop z *·µá) (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏)) |
           inspect (·¥ø.pop y *·µá) (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) | inspect (·¥ø.pop z *·µá) (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏))
   ... | pop-y*E‚Ä≤/E | pop-z*E/E‚Ä≤ | [ ‚â°pop-y*E‚Ä≤/E ] | [ ‚â°pop-z*E/E‚Ä≤ ]
      with step E P | step F Q | step E‚Ä≤ P | step F‚Ä≤ Q |
           inspect (step E) P | inspect (step F) Q | inspect (step E‚Ä≤) P | inspect (step F‚Ä≤) Q
   ... | ‚óª , R | ‚óª , S | ‚óª , R‚Ä≤ | ‚óª , S‚Ä≤ | [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ ‚óª ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
              (Œª ‚â¢z‚Ä≤ ‚Üí ‚ä•-elim (‚â¢z‚Ä≤ (refl , ,-inj‚ÇÅ ‚â°S‚Ä≤)))
   ... | ‚óª , R | ‚óª , S | ‚óª , R‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä≤ ‚å™ ·∂ú ] , S‚Ä≤ | [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ ‚óª z‚Ä≤ (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
              (Œª _ ‚Üí ,-inj‚ÇÅ ‚â°S‚Ä≤)
   ... | ‚óª , R | ‚óª , S | [ .u ‚Ä¢ ·µá ] , R‚Ä≤ | ‚óª , S‚Ä≤ | [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ ‚óª ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
              (Œª ‚â¢z‚Ä≤ ‚Üí ‚ä•-elim (‚â¢z‚Ä≤ (refl , ,-inj‚ÇÅ ‚â°S‚Ä≤)))
   ... | ‚óª , R | ‚óª , S | [ .u ‚Ä¢ ·µá ] , R‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä≤ ‚å™ ·∂ú ] , S‚Ä≤ | [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ ‚óª z‚Ä≤ (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
              (Œª _ ‚Üí ,-inj‚ÇÅ ‚â°S‚Ä≤)
   ... | _ , R | _ , S | _ , R‚Ä≤ | _ , S‚Ä≤ | [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      {!!}
{-
   ... | ‚óª , R | [ ‚Ä¢ .x ‚å© y‚Ä≤ ‚å™ ·∂ú ] , S | ‚óª , R‚Ä≤ | ‚óª , S‚Ä≤ | [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ y‚Ä≤ ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
   ... | ‚óª , R | [ ‚Ä¢ .x ‚å© y‚Ä≤ ‚å™ ·∂ú ] , S | ‚óª , R‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä≤ ‚å™ ·∂ú ] , S‚Ä≤ | [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ y‚Ä≤ z‚Ä≤ (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
   ... | ‚óª , R | [ ‚Ä¢ .x ‚å© y‚Ä≤ ‚å™ ·∂ú ] , S | [ .u ‚Ä¢ ·µá ] , R‚Ä≤ | ‚óª , S‚Ä≤ | [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ y‚Ä≤ ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
   ... | ‚óª , R | [ ‚Ä¢ .x ‚å© y‚Ä≤ ‚å™ ·∂ú ] , S | [ .u ‚Ä¢ ·µá ] , R‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä≤ ‚å™ ·∂ú ] , S‚Ä≤ |
       [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ y‚Ä≤ z‚Ä≤ (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
   ... | [ .x ‚Ä¢ ·µá ] , R | ‚óª , S | ‚óª , R‚Ä≤ | ‚óª , S‚Ä≤ | [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ ‚óª ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
   ... | [ .x ‚Ä¢ ·µá ] , R | ‚óª , S | ‚óª , R‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä≤ ‚å™ ·∂ú ] , S‚Ä≤ | [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ ‚óª z‚Ä≤ (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
   ... | [ .x ‚Ä¢ ·µá ] , R | ‚óª , S | [ .u ‚Ä¢ ·µá ] , R‚Ä≤ | ‚óª , S‚Ä≤ | [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ ‚óª ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
   ... | [ .x ‚Ä¢ ·µá ] , R | ‚óª , S | [ .u ‚Ä¢ ·µá ] , R‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä≤ ‚å™ ·∂ú ] , S‚Ä≤ |
       [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ ‚óª z‚Ä≤ (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
   ... | [ .x ‚Ä¢ ·µá ] , R | [ ‚Ä¢ .x ‚å© y‚Ä≤ ‚å™ ·∂ú ] , S | ‚óª , R‚Ä≤ | ‚óª , S‚Ä≤ | [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ y‚Ä≤ ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
   ... | [ .x ‚Ä¢ ·µá ] , R | [ ‚Ä¢ .x ‚å© y‚Ä≤ ‚å™ ·∂ú ] , S | ‚óª , R‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä≤ ‚å™ ·∂ú ] , S‚Ä≤ |
      [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ y‚Ä≤ z‚Ä≤ (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
   ... | [ .x ‚Ä¢ ·µá ] , R | [ ‚Ä¢ .x ‚å© y‚Ä≤ ‚å™ ·∂ú ] , S | [ .u ‚Ä¢ ·µá ] , R‚Ä≤ | ‚óª , S‚Ä≤ |
      [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ y‚Ä≤ ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
   ... | [ .x ‚Ä¢ ·µá ] , R | [ ‚Ä¢ .x ‚å© y‚Ä≤ ‚å™ ·∂ú ] , S | [ .u ‚Ä¢ ·µá ] , R‚Ä≤ | [ ‚Ä¢ .u ‚å© z‚Ä≤ ‚å™ ·∂ú ] , S‚Ä≤ |
      [ ‚â°R ] | [ ‚â°S ] | [ ‚â°R‚Ä≤ ] | [ ‚â°S‚Ä≤ ] =
      subcase pop-y*E‚Ä≤/E pop-z*E/E‚Ä≤ R R‚Ä≤ S S‚Ä≤ y‚Ä≤ z‚Ä≤ (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤) ‚â°pop-y*E‚Ä≤/E ‚â°pop-z*E/E‚Ä≤
-}
