open import ConcurrentSlicingCommon
open import Transition.Concur.Cofinal.Lattice.Common
import Name as ·¥∫
import Ren as ·¥ø

module Transition.Concur.Cofinal.Lattice.case.nu-sync-nu-sync
   {Œì} {x u : Name Œì} {P‚ÇÄ Q‚ÇÄ R‚ÇÄ R‚Ä≤‚ÇÄ S‚ÇÄ S‚Ä≤‚ÇÄ} {E : P‚ÇÄ ‚Äî[ x ‚Ä¢ ·µá - _ ]‚Üí R‚ÇÄ}
   {E‚Ä≤ : P‚ÇÄ ‚Äî[ u ‚Ä¢ ·µá - _ ]‚Üí R‚Ä≤‚ÇÄ} {F : Q‚ÇÄ ‚Äî[ (‚Ä¢ x) ·µá - _ ]‚Üí S‚ÇÄ} {F‚Ä≤ : Q‚ÇÄ ‚Äî[ (‚Ä¢ u) ·µá - _ ]‚Üí S‚Ä≤‚ÇÄ}
   (ùê∏ : E ‚å£‚ÇÅ[ ·µá‚àá·µá ] E‚Ä≤) (ùêπ : F ‚å£‚ÇÅ[ ·µá‚àá·µá ] F‚Ä≤) (P : ‚Üì P‚ÇÄ) (Q : ‚Üì Q‚ÇÄ)
   (IH‚ÇÅ : braiding (·µá‚àá·µá {a = x ‚Ä¢} {u ‚Ä¢}) {0} (Œ≥‚ÇÅ ùê∏) (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) (tgt E P)) ‚â° tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏)) (tgt E‚Ä≤ P))
   (IH‚ÇÇ : braiding (·µá‚àá·µá {a = ‚Ä¢ x} {‚Ä¢ u}) {0} (Œ≥‚ÇÅ ùêπ) (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) (tgt F Q)) ‚â° tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ)) (tgt F‚Ä≤ Q)) where

   module _
      (R : ‚Üì R‚ÇÄ) (R‚Ä≤ : ‚Üì R‚Ä≤‚ÇÄ) (S : ‚Üì S‚ÇÄ) (S‚Ä≤ : ‚Üì S‚Ä≤‚ÇÄ) (y y‚Ä≤ : ‚Üì ·¥∫.zero) (‚â°R : tgt E P ‚â° R) (‚â°R‚Ä≤ : tgt E‚Ä≤ P ‚â° R‚Ä≤)
      (‚â°S : tgt F Q ‚â° S) (‚â°S‚Ä≤ : tgt F‚Ä≤ Q ‚â° S‚Ä≤) where

      coerce-braid : (P‚Ä≤ : ‚Üì (·¥ø.suc id·∂† *) (tgt‚ÇÅ (‚äñ‚ÇÅ ùê∏))) (Q‚Ä≤ : ‚Üì tgt‚ÇÅ (‚äñ‚ÇÅ ùêπ)) (y‚Ä† : ‚Üì ·¥∫.zero) ‚Üí
                     braidÃÇ (Œ≥‚ÇÅ (ùê∏ ‚îÇ·µ•‚Ä≤ ùêπ)) [ ŒΩ [ ŒΩ [ (repl y‚Ä† *ÃÉ) P‚Ä≤ ‚îÇ Q‚Ä≤ ] ] ] ‚âÖ
                     braidÃÇ (ŒΩŒΩ-swap·µ£ (tgt‚ÇÅ (‚äñ‚ÇÅ ùê∏) ‚îÇ tgt‚ÇÅ (‚äñ‚ÇÅ ùêπ))) [ ŒΩ [ ŒΩ [ (repl y‚Ä† *ÃÉ) P‚Ä≤ ‚îÇ Q‚Ä≤ ] ] ]
      coerce-braid _ _ rewrite (sym (Œ≥‚ÇÅ ùê∏)) | (sym (Œ≥‚ÇÅ ùêπ)) = ? --‚âÖ-refl

      base : (P‚Ä≤ : ‚Üì (·¥ø.suc id·∂† *) (tgt‚ÇÅ (‚äñ‚ÇÅ ùê∏))) (Q‚Ä≤ : ‚Üì tgt‚ÇÅ (‚äñ‚ÇÅ ùêπ)) (P‚Ä≥ : ‚Üì (·¥ø.suc id·∂† *) (tgt‚ÇÇ (‚äñ‚ÇÅ ùê∏)))
             (Q‚Ä≥ : ‚Üì tgt‚ÇÇ (‚äñ‚ÇÅ ùêπ)) (y‚Ä† y‚Ä° : ‚Üì ·¥∫.zero) ‚Üí tgt ((id·∂† *·µá) (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏))) ((repl y‚Ä≤ *ÃÉ)  R) ‚â° P‚Ä≤ ‚Üí
             tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) S ‚â° Q‚Ä≤ ‚Üí tgt ((id·∂† *·µá) (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏))) ((repl y *ÃÉ) R‚Ä≤) ‚â° P‚Ä≥ ‚Üí tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ)) S‚Ä≤ ‚â° Q‚Ä≥ ‚Üí
             braidÃÇ (Œ≥‚ÇÅ (ùê∏ ‚îÇ·µ•‚Ä≤ ùêπ)) [ ŒΩ [ ŒΩ [ (repl y‚Ä† *ÃÉ) P‚Ä≤ ‚îÇ Q‚Ä≤ ] ] ] ‚â° [ ŒΩ [ ŒΩ [ (repl y‚Ä° *ÃÉ) P‚Ä≥ ‚îÇ Q‚Ä≥ ] ] ]
      base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ y‚Ä† y‚Ä° ‚â°P‚Ä≤ ‚â°Q‚Ä≤ ‚â°P‚Ä≥ ‚â°Q‚Ä≥ =
{-
         let Œ≤ : (swap *ÃÉ) P‚Ä≤ ‚âÖ P‚Ä≥
             Œ≤ = let open ‚âÖ-Reasoning in
                begin
                   (swap *ÃÉ) P‚Ä≤
                ‚â°‚ü® cong (swap *ÃÉ) (trans (sym ‚â°P‚Ä≤) (cong (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏))) (sym ‚â°R))) ‚ü©
                   (swap *ÃÉ) (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) (tgt E P))
                ‚âÖ‚ü® ‚âÖ-sym (reduce-·µá‚àá·µá (Œ≥‚ÇÅ ùê∏) _) ‚ü©
                   braiding (·µá‚àá·µá {a = x ‚Ä¢} {u ‚Ä¢}) {0} (Œ≥‚ÇÅ ùê∏) (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) (tgt E P))
                ‚â°‚ü® IH‚ÇÅ ‚ü©
                   tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏)) (tgt E‚Ä≤ P)
                ‚â°‚ü® trans (cong (tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏))) ‚â°R‚Ä≤) ‚â°P‚Ä≥ ‚ü©
                   P‚Ä≥
                ‚àé
             Œ≥ : (swap *ÃÉ) Q‚Ä≤ ‚âÖ Q‚Ä≥
             Œ≥ = let open ‚âÖ-Reasoning in
                begin
                   (swap *ÃÉ) Q‚Ä≤
                ‚â°‚ü® cong (swap *ÃÉ) (trans (sym ‚â°Q‚Ä≤) (cong (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ))) (sym ‚â°S))) ‚ü©
                   (swap *ÃÉ) (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) (tgt F Q))
                ‚âÖ‚ü® ‚âÖ-sym (reduce-·µá‚àá·µá (Œ≥‚ÇÅ ùêπ) _) ‚ü©
                   braiding (·µá‚àá·µá {a = ‚Ä¢ x} {‚Ä¢ u}) {0} (Œ≥‚ÇÅ ùêπ) (tgt (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) (tgt F Q))
                ‚â°‚ü® IH‚ÇÇ ‚ü©
                   tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ)) (tgt F‚Ä≤ Q)
                ‚â°‚ü® trans (cong (tgt (E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ))) ‚â°S‚Ä≤) ‚â°Q‚Ä≥ ‚ü©
                   Q‚Ä≥
                ‚àé
-}
         let open ‚âÖ-Reasoning in ‚âÖ-to-‚â° (
         begin
            braidÃÇ (Œ≥‚ÇÅ (ùê∏ ‚îÇ·µ•‚Ä≤ ùêπ)) [ ŒΩ [ ŒΩ [ (repl y‚Ä† *ÃÉ) P‚Ä≤ ‚îÇ Q‚Ä≤ ] ] ]
         ‚âÖ‚ü® {!!} ‚ü©
{-
         ‚âÖ‚ü® coerce-braid P‚Ä≤ Q‚Ä≤ ‚ü©
            braidÃÇ (ŒΩŒΩ-swap·µ£ (tgt‚ÇÅ (‚äñ‚ÇÅ ùê∏) ‚îÇ tgt‚ÇÅ (‚äñ‚ÇÅ ùêπ))) [ ŒΩ [ ŒΩ [ P‚Ä≤ ‚îÇ Q‚Ä≤ ] ] ]
         ‚â°‚ü® refl ‚ü©
            [ ŒΩ [ ŒΩ [ (swap *ÃÉ) P‚Ä≤ ‚îÇ (swap *ÃÉ) Q‚Ä≤ ] ] ]
         ‚âÖ‚ü® [ŒΩ-]-cong (cong ŒΩ_ (cong‚ÇÇ _‚îÇ_ (Œ≥‚ÇÅ ùê∏) (Œ≥‚ÇÅ ùêπ)))
                      ([ŒΩ-]-cong (cong‚ÇÇ _‚îÇ_ (Œ≥‚ÇÅ ùê∏) (Œ≥‚ÇÅ ùêπ)) ([-‚îÇ-]-cong (Œ≥‚ÇÅ ùê∏) Œ≤ (Œ≥‚ÇÅ ùêπ) Œ≥)) ‚ü©
-}
            [ ŒΩ [ ŒΩ [ (repl y‚Ä° *ÃÉ) P‚Ä≥ ‚îÇ Q‚Ä≥ ] ] ]
         ‚àé)

      subcase :
         braidÃÇ (Œ≥‚ÇÅ (ùê∏ ‚îÇ·µ•‚Ä≤ ùêπ))
         (tgt (ŒΩ·∂ú ((id·∂† *·µá) (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) ‚îÇ·µ• E‚Ä≤/E (‚äñ‚ÇÅ ùêπ))) [ ŒΩ [ (repl y‚Ä≤ *ÃÉ) R ‚îÇ S ] ])
         ‚â°
         tgt (ŒΩ·∂ú ((id·∂† *·µá) (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏)) ‚îÇ·µ• E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ))) [ ŒΩ [ (repl y *ÃÉ) R‚Ä≤ ‚îÇ S‚Ä≤ ] ]
      subcase
         with step ((id·∂† *·µá) (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏))) ((repl y‚Ä≤ *ÃÉ) R) | step (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ)) S |
              step ((id·∂† *·µá) (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏))) ((repl y *ÃÉ) R‚Ä≤) | step (E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ)) S‚Ä≤ |
              inspect (step ((id·∂† *·µá) (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)))) ((repl y‚Ä≤ *ÃÉ) R) | inspect (step (E‚Ä≤/E (‚äñ‚ÇÅ ùêπ))) S |
              inspect (step ((id·∂† *·µá) (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏)))) ((repl y *ÃÉ) R‚Ä≤) | inspect (step (E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ))) S‚Ä≤
      ... | ‚óª , P‚Ä≤ | ‚óª , Q‚Ä≤ | ‚óª , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | ‚óª , P‚Ä≤ | ‚óª , Q‚Ä≤ | ‚óª , P‚Ä≥ | [ ‚Ä¢ ._ Ôπô y‚Ä° Ôπö ·µá ] , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª y‚Ä° (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | ‚óª , P‚Ä≤ | ‚óª , Q‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | ‚óª , P‚Ä≤ | ‚óª , Q‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , P‚Ä≥ | [ ‚Ä¢ ._ Ôπô y‚Ä° Ôπö ·µá ] , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª y‚Ä° (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | ‚óª , P‚Ä≤ | [ ‚Ä¢ ._ Ôπô y‚Ä† Ôπö ·µá ] , Q‚Ä≤ | ‚óª , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ y‚Ä† ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | ‚óª , P‚Ä≤ | [ ‚Ä¢ ._ Ôπô y‚Ä† Ôπö ·µá ] , Q‚Ä≤ | ‚óª , P‚Ä≥ | [ ‚Ä¢ ._ Ôπô y‚Ä° Ôπö ·µá ] , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ y‚Ä† y‚Ä° (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | ‚óª , P‚Ä≤ | [ ‚Ä¢ ._ Ôπô y‚Ä† Ôπö ·µá ] , Q‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ y‚Ä† ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | ‚óª , P‚Ä≤ | [ ‚Ä¢ ._ Ôπô y‚Ä† Ôπö ·µá ] , Q‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , P‚Ä≥ | [ ‚Ä¢ ._ Ôπô y‚Ä° Ôπö ·µá ] , Q‚Ä≥ |
         [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ y‚Ä† y‚Ä° (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ ._ ‚Ä¢ ·µá ] , P‚Ä≤ | ‚óª , Q‚Ä≤ | ‚óª , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ ._ ‚Ä¢ ·µá ] , P‚Ä≤ | ‚óª , Q‚Ä≤ | ‚óª , P‚Ä≥ | [ ‚Ä¢ ._ Ôπô y‚Ä° Ôπö ·µá ] , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª y‚Ä° (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ ._ ‚Ä¢ ·µá ] , P‚Ä≤ | ‚óª , Q‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ ._ ‚Ä¢ ·µá ] , P‚Ä≤ | ‚óª , Q‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , P‚Ä≥ | [ ‚Ä¢ ._ Ôπô y‚Ä° Ôπö ·µá ] , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ ‚óª y‚Ä° (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ ._ ‚Ä¢ ·µá ] , P‚Ä≤ | [ ‚Ä¢ ._ Ôπô y‚Ä† Ôπö ·µá ] , Q‚Ä≤ | ‚óª , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ y‚Ä† ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ ._ ‚Ä¢ ·µá ] , P‚Ä≤ | [ ‚Ä¢ ._ Ôπô y‚Ä† Ôπö ·µá ] , Q‚Ä≤ | ‚óª , P‚Ä≥ | [ ‚Ä¢ ._ Ôπô y‚Ä° Ôπö ·µá ] , Q‚Ä≥ |
         [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ y‚Ä† y‚Ä° (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ ._ ‚Ä¢ ·µá ] , P‚Ä≤ | [ ‚Ä¢ ._ Ôπô y‚Ä† Ôπö ·µá ] , Q‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , P‚Ä≥ | ‚óª , Q‚Ä≥ | [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ y‚Ä† ‚óª (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)
      ... | [ ._ ‚Ä¢ ·µá ] , P‚Ä≤ | [ ‚Ä¢ ._ Ôπô y‚Ä† Ôπö ·µá ] , Q‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , P‚Ä≥ | [ ‚Ä¢ ._ Ôπô y‚Ä° Ôπö ·µá ] , Q‚Ä≥ |
         [ ‚â°P‚Ä≤ ] | [ ‚â°Q‚Ä≤ ] | [ ‚â°P‚Ä≥ ] | [ ‚â°Q‚Ä≥ ] =
         base P‚Ä≤ Q‚Ä≤ P‚Ä≥ Q‚Ä≥ y‚Ä† y‚Ä° (,-inj‚ÇÇ ‚â°P‚Ä≤) (,-inj‚ÇÇ ‚â°Q‚Ä≤) (,-inj‚ÇÇ ‚â°P‚Ä≥) (,-inj‚ÇÇ ‚â°Q‚Ä≥)

   case : braidÃÇ (Œ≥‚ÇÅ (ùê∏ ‚îÇ·µ•‚Ä≤ ùêπ))
          (tgt (ŒΩ·∂ú ((id·∂† *·µá) (E‚Ä≤/E (‚äñ‚ÇÅ ùê∏)) ‚îÇ·µ• E‚Ä≤/E (‚äñ‚ÇÅ ùêπ))) (tgt (E ‚îÇ·µ• F) [ P ‚îÇ Q ]))
          ‚â°
          tgt (ŒΩ·∂ú ((id·∂† *·µá) (E/E‚Ä≤ (‚äñ‚ÇÅ ùê∏)) ‚îÇ·µ• E/E‚Ä≤ (‚äñ‚ÇÅ ùêπ))) (tgt (E‚Ä≤ ‚îÇ·µ• F‚Ä≤) [ P ‚îÇ Q ])
   case
      with step E‚Ä≤ P | step E P | step F‚Ä≤ Q | step F Q |
           inspect (step E‚Ä≤) P | inspect (step E) P | inspect (step F‚Ä≤) Q | inspect (step F) Q
   ... | ‚óª , R‚Ä≤ | ‚óª , R | ‚óª , S‚Ä≤ | ‚óª , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ ‚óª ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | ‚óª , R‚Ä≤ | ‚óª , R | ‚óª , S‚Ä≤ | [ ‚Ä¢ ._ Ôπô y Ôπö ·µá ] , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ ‚óª y (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | ‚óª , R‚Ä≤ | ‚óª , R | [ ‚Ä¢ ._ Ôπô y‚Ä≤ Ôπö ·µá ] , S‚Ä≤ | ‚óª , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ y‚Ä≤ ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | ‚óª , R‚Ä≤ | ‚óª , R | [ ‚Ä¢ ._ Ôπô y‚Ä≤ Ôπö ·µá ] , S‚Ä≤ | [ ‚Ä¢ ._ Ôπô y Ôπö ·µá ] , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ y‚Ä≤ y (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | ‚óª , R‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , R | ‚óª , S‚Ä≤ | ‚óª , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ ‚óª ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | ‚óª , R‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , R | ‚óª , S‚Ä≤ | [ ‚Ä¢ ._ Ôπô y Ôπö ·µá ] , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ ‚óª y (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | ‚óª , R‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , R | [ ‚Ä¢ ._ Ôπô y‚Ä≤ Ôπö ·µá ] , S‚Ä≤ | ‚óª , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ y‚Ä≤ ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | ‚óª , R‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , R | [ ‚Ä¢ ._ Ôπô y‚Ä≤ Ôπö ·µá ] , S‚Ä≤ | [ ‚Ä¢ ._ Ôπô y Ôπö ·µá ] , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ y‚Ä≤ y (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | [ ._ ‚Ä¢ ·µá ] , R‚Ä≤ | ‚óª , R | ‚óª , S‚Ä≤ | ‚óª , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ ‚óª ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | [ ._ ‚Ä¢ ·µá ] , R‚Ä≤ | ‚óª , R | ‚óª , S‚Ä≤ | [ ‚Ä¢ ._ Ôπô y Ôπö ·µá ] , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ ‚óª y (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | [ ._ ‚Ä¢ ·µá ] , R‚Ä≤ | ‚óª , R | [ ‚Ä¢ ._ Ôπô y‚Ä≤ Ôπö ·µá ] , S‚Ä≤ | ‚óª , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ y‚Ä≤ ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | [ ._ ‚Ä¢ ·µá ] , R‚Ä≤ | ‚óª , R | [ ‚Ä¢ ._ Ôπô y‚Ä≤ Ôπö ·µá ] , S‚Ä≤ | [ ‚Ä¢ ._ Ôπô y Ôπö ·µá ] , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ y‚Ä≤ y (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | [ ._ ‚Ä¢ ·µá ] , R‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , R | ‚óª , S‚Ä≤ | ‚óª , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ ‚óª ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | [ ._ ‚Ä¢ ·µá ] , R‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , R | ‚óª , S‚Ä≤ | [ ‚Ä¢ ._ Ôπô y Ôπö ·µá ] , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ ‚óª y (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | [ ._ ‚Ä¢ ·µá ] , R‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , R | [ ‚Ä¢ ._ Ôπô y‚Ä≤ Ôπö ·µá ] , S‚Ä≤ | ‚óª , S | [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ y‚Ä≤ ‚óª (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
   ... | [ ._ ‚Ä¢ ·µá ] , R‚Ä≤ | [ ._ ‚Ä¢ ·µá ] , R | [ ‚Ä¢ ._ Ôπô y‚Ä≤ Ôπö ·µá ] , S‚Ä≤ | [ ‚Ä¢ ._ Ôπô y Ôπö ·µá ] , S |
      [ ‚â°R‚Ä≤ ] | [ ‚â°R ] | [ ‚â°S‚Ä≤ ] | [ ‚â°S ] =
      subcase R R‚Ä≤ S S‚Ä≤ y‚Ä≤ y (,-inj‚ÇÇ ‚â°R) (,-inj‚ÇÇ ‚â°R‚Ä≤) (,-inj‚ÇÇ ‚â°S) (,-inj‚ÇÇ ‚â°S‚Ä≤)
